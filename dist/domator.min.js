!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";module.exports=function(ary,callback,thisArg){if(ary.forEach)return void ary.forEach(callback,thisArg);for(var i=0;i<ary.length;i+=1)callback.call(thisArg,ary[i],i,ary)}},{}],2:[function(require,module,exports){!function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():root.deepmerge=factory()}(this,function(){return function deepmerge(target,src){var array=Array.isArray(src),dst=array&&[]||{};return array?(target=target||[],dst=dst.concat(target),src.forEach(function(e,i){"undefined"==typeof dst[i]?dst[i]=e:"object"==typeof e?dst[i]=deepmerge(target[i],e):-1===target.indexOf(e)&&dst.push(e)})):(target&&"object"==typeof target&&Object.keys(target).forEach(function(key){dst[key]=target[key]}),Object.keys(src).forEach(function(key){"object"==typeof src[key]&&src[key]&&target[key]?dst[key]=deepmerge(target[key],src[key]):dst[key]=src[key]})),dst}})},{}],3:[function(require,module,exports){var isArray=Array.isArray,str=Object.prototype.toString;module.exports=isArray||function(val){return!!val&&"[object Array]"==str.call(val)}},{}],4:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function domator(){if(!doc)throw new Error("Need to call domator.setDocument(document) first.");for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];return domator.render(parse(args))}function parseName(name){var attrs={},pending=name,m=void 0;do m=null,(m=pending.match(regexes.tag))?attrs.tag=m[1]:(m=pending.match(regexes.id))?attrs.id=m[1]:(m=pending.match(regexes.className))?(attrs.className||(attrs.className=[]),attrs.className.push(m[1])):(m=pending.match(regexes.attr))&&(attrs[m[1]]=m[2]),m&&(pending=pending.slice(m[0].length));while(m);if(pending&&(m=pending.match(regexes.text))&&(attrs.text=m[1],pending=pending.slice(m[0].length)),pending)throw new Error('There was an error when parsing element name: "'+name+'"');return attrs}function parse(args){for(var items=[],item=void 0;item=parseNext(args);)items.push(item);return items}function parseNext(args){if(!args.length)return null;for(var item={children:[]};;){var val=args.shift();if(val instanceof doc.defaultView.Node)item.el=val;else if("string"==typeof val)item.tag=val;else if((0,_isArray2["default"])(val))for(var child=void 0;child=parseNext(val);)item.children.push(child);else{if("object"!==("undefined"==typeof val?"undefined":_typeof(val)))throw new Error("Incorrect value.");item.attrs=val}if(!args[0])break;if(args[0]instanceof doc.defaultView.Node)break;if("string"==typeof args[0])break}return item}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=domator;var _isArray=require("is-array"),_isArray2=_interopRequireDefault(_isArray),_arrayForeach=require("array-foreach"),_arrayForeach2=_interopRequireDefault(_arrayForeach),_deepmerge=require("deepmerge"),_deepmerge2=_interopRequireDefault(_deepmerge),regexes={tag:/^([a-z0-9\-]+)/,id:/^#([a-z0-9\-]+)/,className:/^\.([a-z0-9\-]+)/,attr:/^\[([a-z\-0-9]+)(?:="([^"]+)")?\]/,text:/^\s(.+)/},doc=void 0;domator.setDocument=function(newDoc){return doc=newDoc,domator},domator.toString=function(node){var div=doc.createElement("div");return"outerHTML"in div?node.outerHTML:(div.appendChild(node.cloneNode(!0)),div.innerHTML)},domator.create=function(){var name=arguments.length<=0||void 0===arguments[0]?"":arguments[0],attrs=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];name=parseName(name),["class","className"].forEach(function(key){"string"==typeof name[key]&&(name[key]=[name[key]]),"string"==typeof attrs[key]&&(attrs[key]=[attrs[key]])}),attrs=(0,_deepmerge2["default"])(name,attrs),attrs["class"]=(attrs["class"]||[]).concat(attrs.className).join(" "),attrs.className&&delete attrs.className,attrs["class"]||delete attrs["class"];var el=doc.createElement(attrs.tag||"div");delete attrs.tag,attrs.text&&(el.textContent=attrs.text,delete attrs.text);for(var prop in attrs)attrs.hasOwnProperty(prop)&&el.setAttribute(prop,attrs[prop]||prop);return el},domator.render=function(item){if((0,_isArray2["default"])(item)){var _ret=function(){if(1===item.length)return{v:domator.render(item[0])};var wrapper=doc.createDocumentFragment();return(0,_arrayForeach2["default"])(item,function(item){var el=domator.render(item);wrapper.appendChild(el)}),{v:wrapper}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}return item.tag&&(item.el=domator.create(item.tag,item.attrs)),item.children&&(0,_arrayForeach2["default"])(item.children,function(child){item.el.appendChild(domator.render(child))}),item.el},"undefined"!=typeof window&&window.document&&domator.setDocument(window.document),"undefined"==typeof module&&("function"==typeof define&&define.amd?define([],function(){return domator}):"undefined"!=typeof window&&(window.domator=domator))},{"array-foreach":1,deepmerge:2,"is-array":3}]},{},[4]);
